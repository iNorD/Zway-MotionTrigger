{
   "author" : "Maroš Kollár",
   "category" : "automation",
   "defaults" : {
      "description" : "__description__",
      "recheckPreconditions" : false,
      "timeout" : 180,
      "title" : "__title__"
   },
   "dependencies" : [],
   "homepage" : "http://k-1.com",
   "icon" : "icon.png",
   "maturity" : "stable",
   "moduleName" : "MotionTrigger",
   "options" : {
      "fields" : {
         "extraLights" : {
            "fields" : {
               "item" : {
                  "datasource" : "namespaces",
                  "field" : "devices",
                  "optionLabels" : "namespaces:devices_switchBinary:deviceName,namespaces:devices_switchMultilevel:deviceName",
                  "type" : "select"
               }
            },
            "helper" : "__extra_lights_helper__",
            "label" : "__extra_lights_label__"
         },
         "lights" : {
            "fields" : {
               "item" : {
                  "datasource" : "namespaces",
                  "field" : "devices",
                  "optionLabels" : "namespaces:devices_switchBinary:deviceName,namespaces:devices_switchMultilevel:deviceName",
                  "type" : "select"
               }
            },
            "label" : "__lights_label__"
         },
         "preconditions" : {
            "fields" : {
               "device" : {
                  "datasource" : "namespaces",
                  "field" : "optionLabels",
                  "label" : "",
                  "optionLabels" : "namespaces:devices_sensorMultilevel:deviceName",
                  "type" : "select"
               },
               "testOperator" : {
                  "optionLabels" : [
                     "=",
                     "≠",
                     ">",
                     "≥",
                     "<",
                     "≤"
                  ],
                  "type" : "select"
               }
            },
            "helper" : "__preconditions_helper__",
            "label" : "__preconditions_label__"
         },
         "recheckPreconditions" : {
            "helper" : "__recheck_preconditions_helper__",
            "label" : "__recheck_preconditions_label__"
         },
         "securitySensors" : {
            "fields" : {
               "item" : {
                  "datasource" : "namespaces",
                  "field" : "devices",
                  "optionLabels" : "namespaces:devices_sensorBinary:deviceName",
                  "type" : "select"
               }
            },
            "label" : "__security_sensors_label__"
         },
         "timeout" : {
            "helper" : "__timeout_helper__",
            "label" : "__timeout_label__"
         },
         "dimmerLevel" : {
             "type": "textarea",
             "cols": 40,
             "helper" : "__dimmer_level_helper__",
             "label" : "__dimmer_level_label__"
          }
      }
   },
   "repository" : {
      "source" : "https://github.com/maros/Zway-MotionTrigger",
      "type" : "git"
   },
   "schema" : {
      "properties" : {
         "extraLights" : {
            "items" : {
               "datasource" : "namespaces",
               "enum" : "namespaces:devices_switchBinary:deviceId,namespaces:devices_switchMultilevel:deviceId",
               "field" : "enum"
            },
            "type" : "array"
         },
         "lights" : {
            "items" : {
               "datasource" : "namespaces",
               "enum" : "namespaces:devices_switchBinary:deviceId,namespaces:devices_switchMultilevel:deviceId",
               "field" : "enum",
               "required" : true
            },
            "minItems" : 1,
            "type" : "array"
         },
         "preconditions" : {
            "items" : {
               "properties" : {
                  "device" : {
                     "datasource" : "namespaces",
                     "enum" : "namespaces:devices_sensorMultilevel:deviceId",
                     "field" : "enum",
                     "required" : true
                  },
                  "testOperator" : {
                     "enum" : [
                        "=",
                        "!=",
                        ">",
                        ">=",
                        "<",
                        "<="
                     ],
                     "required" : true,
                     "type" : "string"
                  },
                  "testValue" : {
                     "required" : true,
                     "type" : "number"
                  }
               },
               "required" : true,
               "type" : "object"
            },
            "type" : "array"
         },
         "recheckPreconditions" : {
            "required" : true,
            "type" : "boolean"
         },
         "securitySensors" : {
            "items" : {
               "datasource" : "namespaces",
               "enum" : "namespaces:devices_sensorBinary:deviceId",
               "field" : "enum",
               "required" : true
            },
            "minItems" : 1,
            "type" : "array"
         },
         "timeout" : {
            "minimum" : 1,
            "required" : true,
            "type" : "integer"
         },
         "dimmerLevel" : {
             "type": "string"
          }
      },
      "required" : true,
      "type" : "object"
   },
   "singleton" : true,
   "version" : "1.01"
}
